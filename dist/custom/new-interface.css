@media (prefers-color-scheme: light) {
    :root {
        --my-bgcolor-app: #E6E6EB;
        /* --my-bgcolor-app: var(--orca-color-scope-line); */
        /* --my-color-shadow-main: gray; */
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --my-bgcolor-app: var(--orca-color-gray-8);
        /* --my-color-shadow-main: gray; */
    }
}

/* —————————————————————————————————————————————————— */
/* 适配official-themes插件： */
.orca-fav-item-item{
    transition: background-color 0s;
}
/* 插件自身的top边距太大了1.5rem，.25观感好一些 */
/* 覆盖官方 */
body .orca-block-editor-main {
    padding-top: .25rem;
}
/* —————————————————————————————————————————————————— */


body{
    background-color: var(--my-bgcolor-app);
}

/* 使用官方主题最大化时有一层灰色外圈，太突兀了 */
body.windows #app{
    border-color: transparent;
}

#headbar, #sidebar{
    background-color: transparent;
}

#main {
    /* 改用虎鲸官方的上外边距设计 */
    margin: var(--orca-height-headbar) .375rem .375rem 0 !important;
    border-radius: 6px!important;
    /* 过分贴边滚动时不太好看，2px刚好，还能拉开滚动条和边框距离 */
    padding: 2px!important;
    background-color: var(--orca-color-bg-1);
    /* 不应该出现滚动条，因为只是容器 */
    overflow:hidden;

    /* 覆盖官方主题的圆角位置变化 */
    .orca-panel-drag-handle {
        top: var(--orca-spacing-md);
    }
    .orca-block-editor-sidetools {
        top: calc(50px + var(--orca-spacing-md));
    }
}

/* 适配滚动条和侧边栏内边距 */
#sidebar{
    padding-right:0;
    /* border用来拉开滚动条和main的距离 */
    border-right:.75rem solid transparent;
    &>.orca-sidebar-resizer {
        right: -.875rem;
    }
}

@media (prefers-color-scheme: light) {
    body:not(.kef-round-shell){
        #sidebar {
            /* 收藏 标签 页面的颜色，搜索栏3个按钮的颜色，还有主要文本的颜色、我的折叠缩进线颜色 */
            --orca-color-text-1: #4B4B59;
            /* --orca-color-text-1:#7d798f; */
            /* 块标背景色，底部新建按钮颜色 */
            --orca-color-gray-7: #F8F8FA;
    
            /* 输入框背景色，以及收藏标签页面切换时的过渡色 */
            --orca-color-bg-1: #E6E6EB;
    
            /* 周末文本颜色, 滚动条颜色*/
            --orca-color-gray-5: #8994A5;
    
            /* 周历文本颜色，ai */
            --orca-color-gray-6: #b7b6c5;
    
            /* 搜索框的border */
            /* tana右键条目 */
            --orca-color-border: #c9c8d4;
    
            /* 块标背景色 */
            --my-bgcolor-icon: #F1F1F4;
    
    
    
            /* 圆圈和圆圈中的点 */
            @scope (.orca-calendar) {
                .today {
                    border-color: #3B82F6;
                    border-color: #1d4ed8;
                    border-color: #1e40af;
                    border-color: #06B75B;
                }
    
                .journal-dot {
                    background-color: #A0AEC0;
                }
    
                .value {
                    background-color: #3B82F6;
                    background-color: #60a5fa;
                }
    
                .today.value {
                    background-color: #10b981;
                    background-color: #06B75B;
    
                }
    
                .day:not(.value):hover,
                .month:not(.value):hover,
                .year:not(.value):hover {
                    background-color: #1E40AF;
                    background-color: #bfdbfe;
                    /* color:#FAFAFA; */
                }
            }
    
    
            .orca-fav-item-item:hover :is(.orca-fav-item-icon, .orca-fav-item-icon-emoji),
            .orca-tags-tag-item:hover :is(.orca-tags-tag-icon, .orca-tags-tag-icon-emoji),
            .orca-aliased-block-item:hover :is(.orca-aliased-block-icon, .orca-aliased-block-icon-emoji) {
                background-color: var(--my-bgcolor-app);
                /* background-color:rgb(223 223 229); */
            }
    
            /* 侧边栏滚动条 */
            .orca-favorites-items,
            .orca-tags-list-list,
            .orca-aliased-list,
            .orca-select-menu-options {
                &::-webkit-scrollbar-thumb {
                    background-color: var(--orca-color-gray-6) !important;
                }
            }
    
            /* 侧边栏弹出框的颜色 */
            .orca-repo-switcher-menu :is(.orca-menu-item:hover, .orca-menu-text:hover, .orca-key-selected),
            .orca-button.plain:not(:disabled):active {
                background-color: var(--orca-color-gray-1) !important;
            }
        }
    
        .orca-headbar-sidebar-tools .orca-button {
            color: var(--orca-color-text-1)!important;
        }
        .orca-headbar-sidebar-tools .orca-button:disabled{
            opacity:.2;
        }
    
        .sidebar-opened .orca-headbar-sidebar-tools .orca-button:not(:disabled):active {
            background-color: var(--orca-color-gray-1);
        }
    }
}
/* dark下左侧栏按钮颜色 */
@media (prefers-color-scheme: dark) {
    body:not(.kef-round-shell){
        .orca-headbar-sidebar-tools .orca-button {
            color: var(--orca-color-gray-3)!important;
        }
        .orca-headbar-sidebar-tools .orca-button:disabled {
            opacity:.2;
        }
    }
}